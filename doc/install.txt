==== IONIC / CORDOVA (system installation) ===============

# Note : ionic/cordova now require nodejs 0.12
# it will remove npm package but don't panic, it is now
# included in nodejs package

# Note the new setup script name for Node.js v0.12
curl -sL https://deb.nodesource.com/setup_0.12 | sudo bash -

# Then install with:
sudo apt-get install -y nodejs

# install ionic and cordova
sudo npm -g install js-beautify jslint cordova ionic

==== APP PREPARATION (in the local repo) ===============

# use bower to install dependencies from bower.json
$ bower install

# package.json install
# use reset to download dependencies from package.json
# (more or less deprecated, this is not the best way, but STILL needed. Should otherwise find the good way to do it with cordova)
ionic state reset

# prepare the platform you need
cordova platform add ios
cordova platform add android

# build resources + add push notif icon android
ionic resources
cp -r resources/android/ic_notification/* platforms/android/res/

# for mac (important)
ionic prepare ios

-------------------------------------------------------

# install Facebook plugin
# checkout FB plugin (outside of ionic plugin) : it is a requirement for iOS because of symlink
$ git clone https://github.com/Wizcorp/phonegap-facebook-plugin.git

# install plugin in cordova with APP_ID and APP_NAME
$ cordova -d plugin add /path/to/cloned/phonegap-facebook-plugin --variable APP_ID="123456789" --variable APP_NAME="myApplication"

# For Android: don't forget to fill FB Account with your key hash
$ keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64
Q6Tcst8iqeloTBRmsyrA5Njtt0c=

-------------------------------------------------------

# push notification plugin
ionic plugin add https://github.com/phonegap-build/PushPlugin.git
!!! ANDROID build !!! need to install from the SDK:
-  Extras > Android Support Library version 23 or greater
-  Extras > Android Support Repository version 20 or greater
-  Extras > Google Play Services version 27 or greater
-  Extras > Google Repository version 22 or greater
$ android update sdk --no-ui -t extra-google-m2repository,extra-android-m2repository

-------------------------------------------------------

==== MAC BUILD =======
1. Select the Target  -- > General --> Signing --> Select the Team (It must the Super account)
2. Then select the Build Settings in Target, keep the Development team with the same with Selected team. Set the Provisoning Profile with Automatic and Code Signing Identity with iOS Developer.
3. Select the Project -- > Build Settings. Set the Provisoning Profile and Code Signing Identity with Details information
4. Make sure that the resources are OK, especially the icon (for instance try to upload the icon in iTunesConnect) - image must not have alpha canal
5. Make sure that the Privacy strings have a value in Info.plist

-------------------------------------------------------

# Clean before re-intall
npm uninstall cordova ionic
npm cache clean -f
npm install npm -g
